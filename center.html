
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>To center or not to center? &#8212; Pytim 1.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css" />
    <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    
    <link rel="shortcut icon" href="_static/pytim.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Choosing the atomic radii" href="guessing_radii.html" />
    <link rel="prev" title="Surface of a micelle" href="micelle.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="guessing_radii.html" title="Choosing the atomic radii"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="micelle.html" title="Surface of a micelle"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Pytim 1.0.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">To center or not to center?</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="to-center-or-not-to-center">
<h1>To center or not to center?<a class="headerlink" href="#to-center-or-not-to-center" title="Permalink to this heading">¶</a></h1>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<p><a class="reference internal" href="quick.html"><span class="doc">Pytim</span></a> provides different ways to center the interface in the simulation box, and how to compute profiles.</p>
<p>This short tutorial shows the different behaviors.</p>
</section>
<section id="example-pdb-output-for-a-planar-interface">
<h2>Example: pdb output for a planar interface<a class="headerlink" href="#example-pdb-output-for-a-planar-interface" title="Permalink to this heading">¶</a></h2>
<p><strong>Initial file</strong></p>
<p>The waterbox example file <code class="file docutils literal notranslate"><span class="pre">WATER_GRO</span></code> consists of 4000 water molecules, with all
atoms in the unit cell, and the liquid phase crossing the periodic boundary conditions:</p>
<a class="reference internal image-reference" href="_images/centering1.png"><img alt="_images/centering1.png" class="align-center" src="_images/centering1.png" style="width: 35%;" /></a>
<p>If you want to save a local copy of the file, you just need to use this code fragment:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">MDAnalysis</span> <span class="k">as</span> <span class="nn">mda</span>
<span class="kn">import</span> <span class="nn">pytim</span>
<span class="n">u</span>         <span class="o">=</span> <span class="n">mda</span><span class="o">.</span><span class="n">Universe</span><span class="p">(</span><span class="n">pytim</span><span class="o">.</span><span class="n">datafiles</span><span class="o">.</span><span class="n">WATER_GRO</span><span class="p">)</span>
<span class="n">u</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;centering1.pdb&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>When initializing/computing the interface, <a class="reference internal" href="quick.html"><span class="doc">Pytim</span></a> internally centers the interface in different ways, depending whether <a class="reference internal" href="ITIM.html#pytim.itim.ITIM" title="pytim.itim.ITIM"><code class="xref py py-class docutils literal notranslate"><span class="pre">ITIM</span></code></a> or <a class="reference internal" href="GITIM.html#pytim.gitim.GITIM" title="pytim.gitim.GITIM"><code class="xref py py-class docutils literal notranslate"><span class="pre">GITIM</span></code></a> is used. When the configuration with the surface layers information is written to file using <code class="xref py py-meth docutils literal notranslate"><span class="pre">writepdb()</span></code>, the system can be shifted so that the liquid phase is placed at different positions.</p>
<p><strong>Default, no centering</strong></p>
<p>If the (default) option <code class="xref py py-obj docutils literal notranslate"><span class="pre">centered='no'</span></code> is used, then all atomic positions are kept the same as in the input file.
This is like the initial case, however with information on the surface molecules added to the pdb.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">interface</span> <span class="o">=</span> <span class="n">pytim</span><span class="o">.</span><span class="n">ITIM</span><span class="p">(</span><span class="n">u</span><span class="p">)</span>
<span class="n">interface</span><span class="o">.</span><span class="n">writepdb</span><span class="p">(</span><span class="s1">&#39;centering2.pdb&#39;</span><span class="p">,</span><span class="n">centered</span><span class="o">=</span><span class="s1">&#39;no&#39;</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/centering3.png"><img alt="_images/centering3.png" class="align-center" src="_images/centering3.png" style="width: 35%;" /></a>
<p><strong>Centering at the origin</strong></p>
<p>The system can be shifted so that the liquid phase is placed across the origin of the normal axis, using the option <code class="xref py py-obj docutils literal notranslate"><span class="pre">centered=origin</span></code>.
This comes handy to quickly discriminate between upper and lower surface atoms, to spot immediately the middle of the liquid phase, or to verify that the automatic centering method behaved as expected.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">interface</span> <span class="o">=</span> <span class="n">pytim</span><span class="o">.</span><span class="n">ITIM</span><span class="p">(</span><span class="n">u</span><span class="p">)</span>
<span class="n">interface</span><span class="o">.</span><span class="n">writepdb</span><span class="p">(</span><span class="s1">&#39;centering3.pdb&#39;</span><span class="p">,</span><span class="n">centered</span><span class="o">=</span><span class="s1">&#39;origin&#39;</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/centering2.png"><img alt="_images/centering2.png" class="align-center" src="_images/centering2.png" style="width: 35%;" /></a>
<p><strong>Centering in the middle</strong></p>
<p>If the option <code class="xref py py-obj docutils literal notranslate"><span class="pre">centered='middle'</span></code> is passed  to <a class="reference internal" href="ITIM.html#pytim.itim.ITIM.writepdb" title="pytim.itim.ITIM.writepdb"><code class="xref py py-meth docutils literal notranslate"><span class="pre">writepdb()</span></code></a>, instead, then the liquid part of the system is placed in the middle of the box along the surface normal:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">interface</span><span class="o">.</span><span class="n">writepdb</span><span class="p">(</span><span class="s1">&#39;centering4.pdb&#39;</span><span class="p">,</span><span class="n">centered</span><span class="o">=</span><span class="s1">&#39;middle&#39;</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/centering4.png"><img alt="_images/centering4.png" class="align-center" src="_images/centering4.png" style="width: 35%;" /></a>
<hr class="docutils" />
<div class="toctree-wrapper compound">
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-92682414-1', 'auto');
  ga('send', 'pageview');

</script>

</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="index.html">Table of Contents</a></h3>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quick.html">Pytim: Quick Tour</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">How to Install Pytim</a></li>
<li class="toctree-l1"><a class="reference internal" href="micelle.html">Surface of a micelle</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">To center or not to center?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#summary">Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example-pdb-output-for-a-planar-interface">Example: pdb output for a planar interface</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="guessing_radii.html">Choosing the atomic radii</a></li>
<li class="toctree-l1"><a class="reference internal" href="newproperties.html">New properties of Atoms</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ITIM.html">ITIM</a></li>
<li class="toctree-l1"><a class="reference internal" href="GITIM.html">GITIM</a></li>
<li class="toctree-l1"><a class="reference internal" href="SASA.html">SASA</a></li>
<li class="toctree-l1"><a class="reference internal" href="WillardChandler.html">WillardChandler</a></li>
<li class="toctree-l1"><a class="reference internal" href="SimpleInterface.html">SimpleInterface</a></li>
<li class="toctree-l1"><a class="reference internal" href="observables.html">Observables</a></li>
<li class="toctree-l1"><a class="reference internal" href="datafiles.html">Datafiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utilities</a></li>
</ul>

  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="micelle.html"
                          title="previous chapter">Surface of a micelle</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="guessing_radii.html"
                          title="next chapter">Choosing the atomic radii</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/center.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="guessing_radii.html" title="Choosing the atomic radii"
             >next</a> |</li>
        <li class="right" >
          <a href="micelle.html" title="Surface of a micelle"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Pytim 1.0.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">To center or not to center?</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Marcello Sega.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.1.1.
    </div>
  </body>
</html>